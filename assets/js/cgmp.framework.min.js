(function(){function E(g){(function(a){function g(){a("object.cgmp-json-string-placeholder").each(function(s,b){var l=a(b).attr("id"),l=a(b).find("param#json-string-"+l).val(),l=z.searchReplace(l,"'",""),l=l.replace("&quot;",""),c=F(l);if("undefined"===typeof c||!c)return m.fatal("We did not parse JSON from OBJECT param. Aborting map generation .."),!1;if(0<a("div#"+c.id).length){var h=new google.maps.Map(document.getElementById(c.id));y.initMap(h,c.bubbleautopan,parseInt(c.zoom),c.maptype);A.init(h);
    l=new E;l.init(h,c.bubbleautopan,c.distanceunits);l.setGeoLocationIfEnabled(c.enablegeolocationmarker);y.setMapControls({mapTypeControl:"true"===c.maptypecontrol,panControl:"true"===c.pancontrol,zoomControl:"true"===c.zoomcontrol,scaleControl:"true"===c.scalecontrol,scrollwheel:"true"===c.scrollwheelcontrol,streetViewControl:"true"===c.streetviewcontrol,tilt:"true"===c.tiltfourtyfive?45:null,draggable:"true"===c.draggable,overviewMapControl:!0,overviewMapControlOptions:{opened:!1}});"true"===c.showpanoramio&&
    A.buildPanoramioLayer(c.panoramiouid);"true"===c.showbike&&A.buildBikeLayer();"true"===c.showtraffic&&A.buildTrafficLayer();null!=c.kml&&""!=z.trim(c.kml)?A.buildKmlLayer(c.kml):(null!=c.markerlist&&""!=z.trim(c.markerlist)&&l.buildAddressMarkers(c.markerlist,c.addmarkermashup,c.addmarkermashupbubble),l.isBuildAddressMarkersCalled()||w.alertError(d.errors.msgMissingMarkers));a(document).ready(function(){function b(){null!=d&&clearTimeout(d);a(s).is(":hidden")?d=setTimeout(b,l):setTimeout(function(){var a=
        h;if(a){var c=a.getZoom(),b=a.getBounds(),d=a.getCenter();google.maps.event.trigger(a,"resize");a.setZoom(c);a.setCenter(d);a.getBounds(b)}},l)}var d=null,l=500,s="div#"+c.id;a(s).is(":hidden")?(m.warn("Map placeholder DIV is hidden, must resize the map!"),b()):setTimeout(function(){b()},4*l)})}else m.fatal("It looks like the map DIV placeholder ID ["+c.id+"] does not exist in the page!")})}var F=function(a){},u=parseFloat(a.fn.jquery.split(".")[0]),t=parseFloat(a.fn.jquery.split(".")[1]);1<=u&&2>
    u&&4<=t?F=a.parseJSON:window.JSON&&window.JSON.parse?F=window.JSON.parse:m.fatal("Using parseJson stub..");var d={},y=function(){var a={};return{initMap:function(b,d,c,h){a=b;b=[];for(var m in google.maps.MapTypeId)b.push(google.maps.MapTypeId[m]);"OSM"==h?(b.push(h),a.mapTypes.set(h,new google.maps.ImageMapType({getTileUrl:function(a,c){return"http://tile.openstreetmap.org/"+c+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"OpenStreet",maxZoom:20}))):"ROADMAP"==h?h=google.maps.MapTypeId.ROADMAP:
    "SATELLITE"==h?h=google.maps.MapTypeId.SATELLITE:"HYBRID"==h?h=google.maps.MapTypeId.HYBRID:"TERRAIN"==h&&(h=google.maps.MapTypeId.TERRAIN);a.setOptions({zoom:c,mapTypeId:h,mapTypeControlOptions:{mapTypeIds:b}})},setMapControls:function(b){a.setOptions(b)}}}(),A=function(){var a={};return{init:function(b){a=b},buildKmlLayer:function(b){if(0>b.toLowerCase().indexOf("http"))return m.error("KML URL must start with HTTP(S). Aborting.."),!1;var l=new google.maps.KmlLayer(b);google.maps.event.addListener(l,
    "status_changed",function(){var a=l.getStatus();if(a!=google.maps.KmlLayerStatus.OK){var b="";switch(a){case google.maps.KmlLayerStatus.DOCUMENT_NOT_FOUND:b=d.errors.kmlNotFound;break;case google.maps.KmlLayerStatus.DOCUMENT_TOO_LARGE:b=d.errors.kmlTooLarge;break;case google.maps.KmlLayerStatus.FETCH_ERROR:b=d.errors.kmlFetchError;break;case google.maps.KmlLayerStatus.INVALID_DOCUMENT:b=d.errors.kmlDocInvalid;break;case google.maps.KmlLayerStatus.INVALID_REQUEST:b=d.errors.kmlRequestInvalid;break;
        case google.maps.KmlLayerStatus.LIMITS_EXCEEDED:b=d.errors.kmlLimits;break;case google.maps.KmlLayerStatus.TIMED_OUT:b=d.errors.kmlTimedOut;break;case google.maps.KmlLayerStatus.UNKNOWN:b=d.errors.kmlUnknown}if(""!=b){var s=d.errors.kml.replace("[MSG]",b),s=s.replace("[STATUS]",a);w.alertError(s);m.error("Google returned KML error: "+b+" ("+a+")");m.error("KML file: "+l.getUrl())}}});google.maps.event.addListener(l,"defaultviewport_changed",function(){});l.setMap(a)},buildTrafficLayer:function(){(new google.maps.TrafficLayer).setMap(a)},
    buildBikeLayer:function(){(new google.maps.BicyclingLayer).setMap(a)},buildPanoramioLayer:function(b){if("undefined"===typeof google.maps.panoramio||!google.maps.panoramio||null==google.maps.panoramio)return m.error("We cannot access Panoramio library. Aborting.."),!1;var d=new google.maps.panoramio.PanoramioLayer;d?(null!=b&&""!=b&&d.setUserId(b),d.setMap(a)):m.error("Could not instantiate Panoramio object. Aborting..")}}}(),E=function(){function s(f,v){var p=1;a.each(f,function(){null==this.excerpt&&
(this.excerpt="");"undefined"!==typeof this.validated_address_csv_data&&""!==this.validated_address_csv_data||m.error("Validated address on page: "+this.permalink+" returned empty, perhaps OVER_QUERY_LIMIT when validating on the server..");b(this.validated_address_csv_data,this.title,this.permalink,this.excerpt,v,!0);p++});m.info("Have "+(p-1)+" destinations for marker Geo mashup..")}function b(f,v,p,b,c,s){"undefined"!==typeof f&&""!==f||m.fatal("Not parsing empty validated address csv data.. Skipping");
    f=f.split("|");m.info("CGMP CSV: "+f);for(var k=0;k<f.length;k++){var h=f[k];if(null!=h&&""!=h){var e=h.split(d.sep),h=e[0],g=e[1],n=e[2],e=e[3];-1!=n.indexOf(d.noBubbleDescriptionProvided)&&(n="");g={address:h,animation:google.maps.Animation.DROP,zIndex:k+1,markerIcon:g,customBubbleText:n,markerHoverText:n+" ("+h+")",postTitle:v,postLink:p,postExcerpt:b,infoBubbleContainPostLink:c,geoMashup:s};n=[];-1!=e.indexOf(",")?n=e.split(","):-1!=e.indexOf(";")&&(n=e.split(";"));n[0]=z.trim(n[0]);n[1]=z.trim(n[1]);
        if(""===n[0]||""===n[1])return m.warn("Lat or Long are empty string"),!1;e=new google.maps.LatLng(parseFloat(n[0]).toFixed(8),parseFloat(n[1]).toFixed(8));m.info("Have marker to instrument for: "+h+" for location: "+e);n=e;h=g;if(e=new google.maps.Marker({position:n,title:h.markerHoverText,content:h.address,zIndex:h.zIndex+1E3,map:q})){m.info("Marker instrumented for: "+h.address+" for location: "+n);if(h.markerIcon){g=h.markerIcon;if("undefined"==typeof g||"undefined"===g)g="1-default.png";e.setIcon(d.customMarkersUri+
            g);n=null;n=["4-default.png","5-default.png","6-default.png","7-default.png"];-1!=a.inArray(g,["1-default.png","2-default.png"])?(g=d.customMarkersUri+"msmarker.shadow.png",n=l(g,59,32,0,0,16,33)):-1!=a.inArray(g,n)?(g=d.customMarkersUri+"msmarker.shadow.png",n=l(g,59,32,0,0,21,34)):-1!=g.indexOf("3-default")?(g=d.customMarkersUri+"beachflag_shadow.png",n=l(g,37,32,0,0,10,33)):n=l(d.customMarkersUri+"shadow.png",68,37,0,0,32,38);e.setShadow(n)}t(e,h);M||(A(),M=!0);B.push(e)}}}}function l(a,v,p,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c,d,e){return new google.maps.MarkerImage(a,new google.maps.Size(v,p),new google.maps.Point(b,c),new google.maps.Point(d,e))}function c(){var f=!1,v=null==r?!1:!0;1<B.length?(a.each(B,function(a,f){x.contains(f.position)||x.extend(f.position)}),f=!0):1==B.length&&(v?(x.extend(B[0].position),f=!0):(q.setCenter(B[0].position),L=q.getZoom(),I=q.getCenter()));f&&(v&&null!=r.getPosition()&&(m.info("Extended bounds with Geo marker position: "+r.getPosition()),x.extend(r.getPosition())),C=x,null!=x&&q.fitBounds(x))}
    function h(){null!=C?q.getCenter()!=C.getCenter()&&(m.info("Panning map back to its original bounds center: "+C.getCenter()),q.fitBounds(C),q.setCenter(C.getCenter())):null!=I&&(m.info("Panning map back to its original center: "+I+" and updated zoom: "+L),q.setCenter(I),q.setZoom(L))}function g(f){a(f+" input#a_address").val("");a(f+" input#b_address").val("");a(f+" input#a_address").removeClass("d_error");a(f+" input#b_address").removeClass("d_error");a("input#"+k+"_avoid_hway").prop("checked",!1);
        a("input#"+k+"_avoid_tolls").prop("checked",!1);a("input#"+k+"_radio_km").prop("checked",!1);a("input#"+k+"_radio_miles").prop("checked",!0)}function t(f,v){var p=E(f.content,v),b="div#direction-controls-placeholder-"+k,c=a("div#rendered-directions-placeholder-"+k);google.maps.event.addListener(f,"click",function(){g(b);a(b).fadeOut();G.setMap(null);c.html("");c.hide();a(b+" button#print_sub").hide();y(f,p,b);u(f,p,b,c);D.setContent(p.bubbleContent);D.setOptions({disableAutoPan:"true"===K?!1:!0});
        D.open(q,this)})}function u(f,b,p,c){var d="div#bubble-"+b.bubbleHolderId,e=f.content,e=e.replace("Lat/Long: ",""),l=!1==(null==r?!1:!0)||null==r.getPosition()?"":r.getPosition();a(document).on("click",d+" a.dirToHereTrigger",function(){this.id==="toHere-"+b.bubbleHolderId&&(a(p).fadeIn(),a(p+" input#a_address").val(l),a(p+" input#b_address").val(e),"miles"===J?(a("input#"+k+"_radio_miles").prop("checked",!0),a("input#"+k+"_radio_km").prop("checked",!1)):"km"===J&&(a("input#"+k+"_radio_km").prop("checked",
        !0),a("input#"+k+"_radio_miles").prop("checked",!1)))});a(document).on("click",d+" a.dirFromHereTrigger",function(){this.id==="fromHere-"+b.bubbleHolderId&&(a(p).fadeIn(),a(p+" input#a_address").val(e),a(p+" input#b_address").val(l),"miles"===J?(a("input#"+k+"_radio_miles").prop("checked",!0),a("input#"+k+"_radio_km").prop("checked",!1)):"km"===J&&(a("input#"+k+"_radio_km").prop("checked",!0),a("input#"+k+"_radio_miles").prop("checked",!1)))});a(document).on("click",p+" div.d_close-wrapper",function(f){g(p);
        a(this).parent().fadeOut();G.setMap(null);c.html("");c.hide();a(p+" button#print_sub").hide();h();return!1})}function y(f,b,p){N.getPanoramaByLocation(f.position,50,function(c,d){if(d===google.maps.StreetViewStatus.OK)a(document).on("click","a#trigger-"+b.bubbleHolderId,function(){var c={navigationControl:!0,enableCloseButton:!0,addressControl:!1,linksControl:!0,scrollwheel:!1,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM},position:f.position,pov:{heading:165,pitch:0,zoom:1}},
        d=new google.maps.StreetViewPanorama(document.getElementById("bubble-"+b.bubbleHolderId),c);d.setVisible(!0);google.maps.event.addListener(D,"closeclick",function(){g(p);a(p).fadeOut();null!=d&&(d.unbind("position"),d.setVisible(!1));d=null});google.maps.event.addListener(d,"closeclick",function(){null!=d&&(d.unbind("position"),d.setVisible(!1),a("div#bubble-"+b.bubbleHolderId).css("background","none"));d=null})});else m.warn("There is not street view available for this marker location: "+f.position+
        " status: "+d),a(document).on("click","a#trigger-"+b.bubbleHolderId,function(a){a.preventDefault()}),a("a#trigger-"+b.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important"),google.maps.event.addListener(D,"domready",function(){a("a#trigger-"+b.bubbleHolderId).removeAttr("href");a("a#trigger-"+b.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important")})})}function A(){var f="div#direction-controls-placeholder-"+k,b=a("div#rendered-directions-placeholder-"+
        k);a(document).on("click",f+" a#reverse-btn",function(b){b=a(f+" input#a_address").val();var d=a(f+" input#b_address").val();a(f+" input#a_address").val(d);a(f+" input#b_address").val(b);return!1});a(document).on("click",f+" a#d_options_show",function(){a(f+" a#d_options_hide").show();a(f+" a#d_options_show").hide();a(f+" div#d_options").show();return!1});a(document).on("click",f+" a#d_options_hide",function(){a(f+" a#d_options_hide").hide();a(f+" a#d_options_show").show();a(f+" div#d_options").hide();
        a("input#"+k+"_avoid_hway").prop("checked",!1);a("input#"+k+"_avoid_tolls").prop("checked",!1);a("input#"+k+"_radio_km").prop("checked",!1);a("input#"+k+"_radio_miles").prop("checked",!0);return!1});a(document).on("click",f+" button#d_sub",function(){var d=a(f+" input#a_address").val(),c=a(f+" input#b_address").val(),e=!1;if(null==d||""==d)a(f+" input#a_address").addClass("d_error"),e=!0;if(null==c||""==c)a(f+" input#b_address").addClass("d_error"),e=!0;if(!e){a(f+" button#d_sub").prop("disabled",
        !0).html("Please wait..");var g=google.maps.DirectionsTravelMode.DRIVING;a(f+" a#dir_w_btn").hasClass("selected")&&(g=google.maps.DirectionsTravelMode.WALKING);var e=a("input#"+k+"_avoid_hway").is(":checked"),h=a("input#"+k+"_avoid_tolls").is(":checked"),l=a("input#"+k+"_radio_miles").is(":checked"),g={origin:d,destination:c,travelMode:g,provideRouteAlternatives:!0};e&&(g.avoidHighways=!0);h&&(g.avoidTolls=!0);g.unitSystem=l?google.maps.DirectionsUnitSystem.IMPERIAL:google.maps.DirectionsUnitSystem.METRIC;
        O.route(g,function(e,g){g==google.maps.DirectionsStatus.OK?(b.html(""),b.show(),G.setMap(q),G.setDirections(e),a(f+" button#d_sub").removeAttr("disabled").html("Get directions"),a(f+" button#print_sub").fadeIn(),D.close()):(m.error('Could not route directions from "'+d+'" to "'+c+'", got result from Google: '+g),b.html("<span style='font-size: 12px; font-weight: bold; color: red'>Could not route directions from<br />'"+d+"' to<br />'"+c+"'<br />Got result from Google: ["+g+"]</span>"),a(f+" button#print_sub").hide(),
            a(f+" button#d_sub").removeAttr("disabled").html("Get directions"))})}});a(document).on("click",f+" button#print_sub",function(){var b=a(f+" input#a_address").val(),d=a(f+" input#b_address").val(),c="d";a(f+" a#dir_w_btn").hasClass("selected")&&(c="w");b="http://maps.google.com/?saddr="+b+"&daddr="+d+"&dirflg="+c+"&pw=2";b=a("input#"+k+"_radio_miles").is(":checked")?b+"&doflg=ptm":b+"&doflg=ptk";"d"===c&&(c=a("input#"+k+"_avoid_hway").is(":checked"),d=a("input#"+k+"_avoid_tolls").is(":checked"),c&&
        (b+="&dirflg=h"),d&&(b+="&dirflg=t"));window.open(b);return!1});a(document).on("change focus",f+" input#a_address",function(){a(f+" input#a_address").removeClass("d_error");return!1});a(document).on("change focus",f+" input#b_address",function(){a(f+" input#b_address").removeClass("d_error");return!1});a(document).on("click",f+" .kd-button",function(){var b=this.id;"dir_d_btn"==b?a(f+" a#dir_d_btn").hasClass("selected")?m.warn("Driving travel mode is already selected"):(a(f+" a#dir_d_btn").addClass("selected"),
        a(f+" a#dir_w_btn").removeClass("selected")):"dir_w_btn"==b&&(a(f+" a#dir_w_btn").hasClass("selected")?m.warn("Walking travel mode is already selected"):(a(f+" a#dir_w_btn").addClass("selected"),a(f+" a#dir_d_btn").removeClass("selected")));return!1})}function E(a,b){var c=Math.floor(111111*Math.random()),c=c+"-"+k,e="<div id='bubble-"+c+"' style='height: 130px !important; width: 300px !important;' class='bubble-content'>";if(!b.geoMashup||b.geoMashup&&!b.infoBubbleContainPostLink)e+="<h4>"+d.translations.address+
        ":</h4>",e+="<p class='custom-bubble-text'>"+a+"</p>",""!=b.customBubbleText&&(e+="<p class='custom-bubble-text'>"+b.customBubbleText+"</p>");else var g=b.postTitle.substring(0,30),e=e+""+("<p class='geo-mashup-post-title'><a title='Original post: "+b.postTitle+"' href='"+b.postLink+"'>"+g+"..</a></p>"),e=e+("<p class='geo-mashup-post-excerpt'>"+b.postExcerpt+"</p>");e+="<div class='custom-bubble-links-section'>";e+="<hr />";e+="<p class='custom-bubble-text'>"+d.translations.directions+": <a id='toHere-"+
        c+"' class='dirToHereTrigger' href='javascript:void(0);'>"+d.translations.toHere+"</a> - <a id='fromHere-"+c+"' class='dirFromHereTrigger' href='javascript:void(0);'>"+d.translations.fromHere+"</a> | <a id='trigger-"+c+"' class='streetViewTrigger' href='javascript:void(0);'>"+d.translations.streetView+"</a></p>";e+="</div></div>";return{bubbleHolderId:c,bubbleContent:e}}function e(a,b,c){var e={clickable:!1,cursor:"pointer",draggable:!1,flat:!0,icon:{url:d.customMarkersUri+"gpsloc.png",size:new google.maps.Size(34,
        34),scaledSize:new google.maps.Size(17,17),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(8,8)},optimized:!1,position:new google.maps.LatLng(0,0),title:"Current location",zIndex:2};b&&(e=this.copyOptions_(e,b));b={clickable:!1,radius:0,strokeColor:"1bb6ff",strokeOpacity:0.4,fillColor:"61a0bf",fillOpacity:0.4,strokeWeight:1,zIndex:1};c&&(b=this.copyOptions_(b,c));this.marker_=new google.maps.Marker(e);this.circle_=new google.maps.Circle(b);this.map=this.position=this.accuracy=null;
        this.set("minimum_accuracy",null);this.set("position_options",{enableHighAccuracy:!0,maximumAge:1E3});this.circle_.bindTo("map",this.marker_);a&&this.setMap(a)}var B,J,w,M,q,H,K,C,I,L,k,x,D,N,G,O,r=null;e.prototype=new google.maps.MVCObject;e.prototype.set=function(a,b){if(/^(?:position|accuracy)$/i.test(a))throw"'"+a+"' is a read-only property.";/map/i.test(a)?this.setMap(b):google.maps.MVCObject.prototype.set.apply(this,arguments)};e.prototype.marker_=null;e.prototype.circle_=null;e.prototype.getMap=
        function(){return this.map};e.prototype.getPositionOptions=function(){return this.get("position_options")};e.prototype.setPositionOptions=function(a){this.set("position_options",a)};e.prototype.getPosition=function(){return this.position};e.prototype.getBounds=function(){return this.position?this.circle_.getBounds():null};e.prototype.getAccuracy=function(){return this.accuracy};e.prototype.getMinimumAccuracy=function(){return this.get("minimum_accuracy")};e.prototype.setMinimumAccuracy=function(a){this.set("minimum_accuracy",
        a)};e.prototype.watchId_=-1;e.prototype.setMap=function(a){this.map=a;this.notify("map");a?this.watchPosition_():(this.marker_.unbind("position"),this.circle_.unbind("center"),this.circle_.unbind("radius"),this.position=this.accuracy=null,navigator.geolocation.clearWatch(this.watchId_),this.watchId_=-1,this.marker_.setMap(a))};e.prototype.setMarkerOptions=function(a){this.marker_.setOptions(this.copyOptions_({},a))};e.prototype.setCircleOptions=function(a){this.circle_.setOptions(this.copyOptions_({},
        a))};e.prototype.updatePosition_=function(a){var b=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),c=null==this.marker_.getMap();if(c){if(null!=this.getMinimumAccuracy()&&a.coords.accuracy>this.getMinimumAccuracy())return;this.marker_.setMap(this.map);this.marker_.bindTo("position",this);this.circle_.bindTo("center",this,"position");this.circle_.bindTo("radius",this,"accuracy")}this.accuracy!=a.coords.accuracy&&google.maps.MVCObject.prototype.set.call(this,"accuracy",a.coords.accuracy);
        !c&&null!=this.position&&this.position.equals(b)||google.maps.MVCObject.prototype.set.call(this,"position",b)};e.prototype.watchPosition_=function(){var a=this;navigator.geolocation&&(this.watchId_=navigator.geolocation.watchPosition(function(b){a.updatePosition_(b)},function(b){google.maps.event.trigger(a,"geolocation_error",b)},this.getPositionOptions()))};e.prototype.copyOptions_=function(a,b){for(var c in b)!0!==e.DISALLOWED_OPTIONS[c]&&(a[c]=b[c]);return a};e.DISALLOWED_OPTIONS={map:!0,position:!0,
        radius:!0};return{init:function(a,b,c){q=a;k=q.getDiv().id;K=b;J=c;google.maps.event.addListener(q,"click",function(){h()});B=[];L=5;C=I=H=null;w=M=!1;new google.maps.Geocoder;x=new google.maps.LatLngBounds;D=new google.maps.InfoWindow;N=new google.maps.StreetViewService;O=new google.maps.DirectionsService;rendererOptions={draggable:!0};G=new google.maps.DirectionsRenderer(rendererOptions);G.setPanel(document.getElementById("rendered-directions-placeholder-"+k))},setGeoLocationIfEnabled:function(a){"true"===
        a&&(r=new e,google.maps.event.addListenerOnce(r,"position_changed",function(){q.setCenter(this.getPosition());q.fitBounds(this.getBounds())}),google.maps.event.addListener(r,"geolocation_error",function(a){alert("There was an error creating Geolocation marker: "+a.message+"\n\nProceeding with normal map generation..");m.error("There was an error obtaining your position. Message: "+a.message);r=null}),r.setPositionOptions({enableHighAccuracy:!0,timeout:6E3,maximumAge:0}),r.setMap(q))},buildAddressMarkers:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              d,e){w=!0;H=z.trim(a);H=z.searchReplace(H,"'","");"true"===d?(a=F(H),"true"===e?s(a,!0):"false"===e&&s(a,!1)):null!=d&&"false"!==d||b(H,"","","",!1,!1);c()},isBuildAddressMarkersCalled:function(){return w}}},z=function(){return{isNumeric:function(a){return/^([0-9?(\-.,;\s{1,})]+)$/.test(a)},isAlphaNumeric:function(a){return/^([a-zA-Z0-9?(/\-.,\s{1,})]+)$/.test(a)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},searchReplace:function(a,b,d){return a.replace(RegExp(b,"g"),d)}}}(),m=function(){var a=
    function(a){navigator.userAgent.match(/msie|trident/i)||console.log(a)};return{info:function(b){a("Info :: "+b)},raw:function(b){a(b)},warn:function(b){a("Warning :: "+b)},error:function(b){a("Error :: "+b)},fatal:function(b){a("Fatal :: "+b)}}}(),w=function(){return{alertError:function(d){function b(b,c){b.preventDefault();var d=a(c).closest("div.cgmp-popup-shortcode-dialog");d&&a(d).remove();0==a("div.cgmp-popup-shortcode-dialog").length&&a("#cgmp-popup-mask").remove()}var g=a('<div id="cgmp-popup-mask"/>'),
    c=Math.random().toString(36).substring(3),h=a('<div id="'+c+'" class="cgmp-popup-shortcode-dialog cgmp-popup-window">');h.html("<div class='dismiss-container'><a class='dialog-dismiss' href='javascript:void(0)'>x</a></div><p style='text-align: left; padding: 10px 10px 0 10px'>"+d+"</p><div align='center'><input type='button' class='close-dialog' value='Close' /></div>");a("body").append(g);a("body").append(h);d=a(document).height();g=a(window).width();a("#cgmp-popup-mask").css({width:g,height:d,opacity:0.1});
    1==a("#cgmp-popup-mask").length&&a("#cgmp-popup-mask").show();d=a(window).height();g=a(window).width();a("div#"+c).css("top",d/2-a("div#"+c).height()/2);a("div#"+c).css("left",g/2-a("div#"+c).width()/2);a("div#"+c).fadeIn(500);a(".cgmp-popup-window .close-dialog").click(function(c){b(c,a(this))});a(".cgmp-popup-window .dialog-dismiss").click(function(c){b(c,a(this))});a("#cgmp-popup-mask").click(function(){a(this).remove();a(".cgmp-popup-window").remove()});a(window).resize(function(){var b=a(".window"),
        c=a(document).height(),d=a(window).width();a("#cgmp-popup-mask").css({width:d,height:c});c=a(window).height();d=a(window).width();b.css("top",c/2-b.height()/2);b.css("left",d/2-b.width()/2)})}}}();if(0==a("object#global-data-placeholder").length)m.fatal("The global HTML <object> element is undefined. Aborting map generation .. d[-_-]b");else{u=document.head||document.getElementsByTagName("head")[0]||document.documentElement;t=document.createElement("link");t.type="text/css";t.rel="stylesheet";t.href=
    a("object#global-data-placeholder").find("param#cssHref").val();t.media="screen";u.appendChild(t);d.sep=a("object#global-data-placeholder").find("param#sep").val();d.noBubbleDescriptionProvided=a("object#global-data-placeholder").find("param#noBubbleDescriptionProvided").val();d.customMarkersUri=a("object#global-data-placeholder").find("param#customMarkersUri").val();d.errors=a("object#global-data-placeholder").find("param#errors").val();d.errors=F(d.errors);d.translations=a("object#global-data-placeholder").find("param#translations").val();
    d.translations=F(d.translations);u=parseFloat(a.fn.jquery.split(".")[0]);t=parseFloat(a.fn.jquery.split(".")[1]);if(1>u||1<=u&&2>u&&3>t)return alert(d.errors.oldJquery),m.fatal("Client uses jQuery older than the version 1.3.0. Aborting map generation .."),!1;if("undefined"===typeof google||!google)return w.alertError(d.errors.msgNoGoogle),m.fatal("We do not have reference to Google API. Aborting map generation .."),!1;if("undefined"!==typeof GMap2&&GMap2)return w.alertError(d.errors.msgApiV2),m.fatal("It looks like the webpage has reference to GMap2 object from Google API v2. Aborting map generation .."),
        !1;d.language=a("object#global-data-placeholder").find("param#language").val();google.load("maps","3",{other_params:"sensor=false&libraries=panoramio&language="+d.language,callback:function(){g()}})}})("undefined"!==typeof g&&null!=g&&g?g:jQuery)}if("undefined"===typeof jQuery||null==jQuery){var K=!1,y=document.head||document.getElementsByTagName("head")[0]||document.documentElement,g=document.createElement("script");g.type="text/javascript";g.src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js";
    g.onload=g.onreadystatechange=function(){if(!K&&(!this.readyState||/loaded|complete/.test(g.readyState))){K=!0;var P=jQuery.noConflict();E(P);g.onload=g.onreadystatechange=null;y&&g.parentNode&&y.removeChild(g);g=void 0}};y.appendChild(g)}else E()})();
(function(){function C(q){(function(a){function q(){a("object.cgmp-json-string-placeholder").each(function(l,d){var h=a(d).attr("id"),h=a(d).find("param#json-string-"+h).val(),h=u.searchReplace(h,"'",""),h=h.replace("&quot;",""),e=D(h);if("undefined"===typeof e||!e)return!1;if(0<a("div#"+e.id).length){var n=new google.maps.Map(document.getElementById(e.id));w.initMap(n,e.bubbleautopan,parseInt(e.zoom),e.maptype);x.init(n);h=new C;h.init(n,e.bubbleautopan,e.distanceunits,e.enablegeolocationmarker);
    w.setMapControls({mapTypeControl:"true"===e.maptypecontrol,panControl:"true"===e.pancontrol,zoomControl:"true"===e.zoomcontrol,scaleControl:"true"===e.scalecontrol,scrollwheel:"true"===e.scrollwheelcontrol,streetViewControl:"true"===e.streetviewcontrol,tilt:"true"===e.tiltfourtyfive?45:null,draggable:"true"===e.draggable,overviewMapControl:!0,overviewMapControlOptions:{opened:!1}});"true"===e.showpanoramio&&x.buildPanoramioLayer(e.panoramiouid);"true"===e.showbike&&x.buildBikeLayer();"true"===e.showtraffic&&
    x.buildTrafficLayer();null!=e.kml&&""!=u.trim(e.kml)?x.buildKmlLayer(e.kml):(null!=e.markerlist&&""!=u.trim(e.markerlist)&&h.buildAddressMarkers(e.markerlist,e.addmarkermashup,e.addmarkermashupbubble),h.isBuildAddressMarkersCalled()||I.alertError(b.errors.msgMissingMarkers));a(document).ready(function(){function d(e){a(e).is(":visible")?(null!=h&&clearTimeout(h),setTimeout(function(){b(n)},500)):h=setTimeout(d(e),1E3)}function b(a){if(a){var e=a.getZoom(),d=a.getBounds(),l=a.getCenter();google.maps.event.trigger(a,
        "resize");a.setZoom(e);a.setCenter(l);a.getBounds(d)}}var l="div#"+e.id;0<a(l).children().length&&(0<a(l).closest(".ui-tabs-panel").length?(l=a(l).closest(".ui-tabs-panel"),d(l)):setTimeout(function(){b(n)},2E3));var h=null})}else y.fatal("It looks like the map DIV placeholder ID ["+e.id+"] does not exist in the page!")})}var D=function(a){},s=parseFloat(a.fn.jquery.split(".")[0]),t=parseFloat(a.fn.jquery.split(".")[1]);1<=s&&2>s&&4<=t?D=a.parseJSON:window.JSON&&window.JSON.parse?D=window.JSON.parse:
    y.fatal("Using parseJson stub..");var b={},w=function(){var a={};return{initMap:function(d,b,e,n){a=d;d=[];for(var q in google.maps.MapTypeId)d.push(google.maps.MapTypeId[q]);"OSM"==n?(d.push(n),a.mapTypes.set(n,new google.maps.ImageMapType({getTileUrl:function(a,e){return"http://tile.openstreetmap.org/"+e+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"OpenStreet",maxZoom:20}))):"ROADMAP"==n?n=google.maps.MapTypeId.ROADMAP:"SATELLITE"==n?n=google.maps.MapTypeId.SATELLITE:"HYBRID"==
    n?n=google.maps.MapTypeId.HYBRID:"TERRAIN"==n&&(n=google.maps.MapTypeId.TERRAIN);a.setOptions({zoom:e,mapTypeId:n,mapTypeControlOptions:{mapTypeIds:d}})},setMapControls:function(d){a.setOptions(d)}}}(),x=function(){var a={};return{init:function(d){a=d},buildKmlLayer:function(d){if(0>d.toLowerCase().indexOf("http"))return y.error("KML URL must start with HTTP(S). Aborting.."),!1;var h=new google.maps.KmlLayer(d);google.maps.event.addListener(h,"status_changed",function(){var a=h.getStatus();if(a!=
    google.maps.KmlLayerStatus.OK){var d="";switch(a){case google.maps.KmlLayerStatus.DOCUMENT_NOT_FOUND:d=b.errors.kmlNotFound;break;case google.maps.KmlLayerStatus.DOCUMENT_TOO_LARGE:d=b.errors.kmlTooLarge;break;case google.maps.KmlLayerStatus.FETCH_ERROR:d=b.errors.kmlFetchError;break;case google.maps.KmlLayerStatus.INVALID_DOCUMENT:d=b.errors.kmlDocInvalid;break;case google.maps.KmlLayerStatus.INVALID_REQUEST:d=b.errors.kmlRequestInvalid;break;case google.maps.KmlLayerStatus.LIMITS_EXCEEDED:d=b.errors.kmlLimits;
    break;case google.maps.KmlLayerStatus.TIMED_OUT:d=b.errors.kmlTimedOut;break;case google.maps.KmlLayerStatus.UNKNOWN:d=b.errors.kmlUnknown}if(""!=d){var l=b.errors.kml.replace("[MSG]",d),l=l.replace("[STATUS]",a);I.alertError(l);y.error("Google returned KML error: "+d+" ("+a+")");y.error("KML file: "+h.getUrl())}}});google.maps.event.addListener(h,"defaultviewport_changed",function(){});h.setMap(a)},buildTrafficLayer:function(){(new google.maps.TrafficLayer).setMap(a)},buildBikeLayer:function(){(new google.maps.BicyclingLayer).setMap(a)},
    buildPanoramioLayer:function(d){if("undefined"==typeof google.maps.panoramio||!google.maps.panoramio||null==google.maps.panoramio)return y.error("We cannot access Panoramio library. Aborting.."),!1;var b=new google.maps.panoramio.PanoramioLayer;b?(null!=d&&""!=d&&b.setUserId(d),b.setMap(a)):y.error("Could not instantiate Panoramio object. Aborting..")}}}(),C=function(){function l(){null!=F?r.getCenter()!=F.getCenter()&&(r.fitBounds(F),r.setCenter(F.getCenter())):null!=N&&(r.setCenter(N),r.setZoom(Q))}
    function d(g){a(g+" input#a_address").val("");a(g+" input#b_address").val("");a(g+" input#a_address").removeClass("d_error");a(g+" input#b_address").removeClass("d_error");a("input#"+m+"_avoid_hway").prop("checked",!1);a("input#"+m+"_avoid_tolls").prop("checked",!1);a("input#"+m+"_radio_km").prop("checked",!1);a("input#"+m+"_radio_miles").prop("checked",!0)}function h(g,c){var k=t(g.content,c),f="div#direction-controls-placeholder-"+m,b=a("div#rendered-directions-placeholder-"+m);google.maps.event.addListener(g,
        "click",function(){d(f);a(f).fadeOut();G.setMap(null);b.html("");b.hide();a(f+" button#print_sub").hide();n(g,k,f);e(g,k,f,b);A.setContent(k.bubbleContent);A.setOptions({disableAutoPan:"true"===U?!1:!0});A.open(r,this)})}function e(g,c,k,f){var e="div#bubble-"+c.bubbleHolderId,b=g.content,b=b.replace("Lat/Long: ",""),h=null==v?"":v.getPosition();a(document).on("click",e+" a.dirToHereTrigger",function(){this.id==="toHere-"+c.bubbleHolderId&&(a(k).fadeIn(),a(k+" input#a_address").val(h),a(k+" input#b_address").val(b),
        "miles"===J?(a("input#"+m+"_radio_miles").prop("checked",!0),a("input#"+m+"_radio_km").prop("checked",!1)):"km"===J&&(a("input#"+m+"_radio_km").prop("checked",!0),a("input#"+m+"_radio_miles").prop("checked",!1)))});a(document).on("click",e+" a.dirFromHereTrigger",function(){this.id==="fromHere-"+c.bubbleHolderId&&(a(k).fadeIn(),a(k+" input#a_address").val(b),a(k+" input#b_address").val(h),"miles"===J?(a("input#"+m+"_radio_miles").prop("checked",!0),a("input#"+m+"_radio_km").prop("checked",!1)):"km"===
        J&&(a("input#"+m+"_radio_km").prop("checked",!0),a("input#"+m+"_radio_miles").prop("checked",!1)))});a(document).on("click",k+" div.d_close-wrapper",function(g){d(k);a(this).parent().fadeOut();G.setMap(null);f.html("");f.hide();a(k+" button#print_sub").hide();l();return!1})}function n(g,c,k){V.getPanoramaByLocation(g.position,50,function(f,b){if(b===google.maps.StreetViewStatus.OK)a(document).on("click","a#trigger-"+c.bubbleHolderId,function(){var f={navigationControl:!0,enableCloseButton:!0,addressControl:!1,
        linksControl:!0,scrollwheel:!1,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM},position:g.position,pov:{heading:165,pitch:0,zoom:1}},b=new google.maps.StreetViewPanorama(document.getElementById("bubble-"+c.bubbleHolderId),f);b.setVisible(!0);google.maps.event.addListener(A,"closeclick",function(){d(k);a(k).fadeOut();null!=b&&(b.unbind("position"),b.setVisible(!1));b=null});google.maps.event.addListener(b,"closeclick",function(){null!=b&&(b.unbind("position"),b.setVisible(!1),a("div#bubble-"+
        c.bubbleHolderId).css("background","none"));b=null})});else a(document).on("click","a#trigger-"+c.bubbleHolderId,function(a){a.preventDefault()}),a("a#trigger-"+c.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important"),google.maps.event.addListener(A,"domready",function(){a("a#trigger-"+c.bubbleHolderId).removeAttr("href");a("a#trigger-"+c.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important")})})}function q(){var g="div#direction-controls-placeholder-"+
        m,c=a("div#rendered-directions-placeholder-"+m);a(document).on("click",g+" a#reverse-btn",function(c){c=a(g+" input#a_address").val();var f=a(g+" input#b_address").val();a(g+" input#a_address").val(f);a(g+" input#b_address").val(c);return!1});a(document).on("click",g+" a#d_options_show",function(){a(g+" a#d_options_hide").show();a(g+" a#d_options_show").hide();a(g+" div#d_options").show();return!1});a(document).on("click",g+" a#d_options_hide",function(){a(g+" a#d_options_hide").hide();a(g+" a#d_options_show").show();
        a(g+" div#d_options").hide();a("input#"+m+"_avoid_hway").prop("checked",!1);a("input#"+m+"_avoid_tolls").prop("checked",!1);a("input#"+m+"_radio_km").prop("checked",!1);a("input#"+m+"_radio_miles").prop("checked",!0);return!1});a(document).on("click",g+" button#d_sub",function(){var k=a(g+" input#a_address").val(),f=a(g+" input#b_address").val(),b=!1;if(null==k||""==k)a(g+" input#a_address").addClass("d_error"),b=!0;if(null==f||""==f)a(g+" input#b_address").addClass("d_error"),b=!0;if(!b){a(g+" button#d_sub").prop("disabled",
        !0).html("Please wait..");var d=google.maps.DirectionsTravelMode.DRIVING;a(g+" a#dir_w_btn").hasClass("selected")&&(d=google.maps.DirectionsTravelMode.WALKING);var b=a("input#"+m+"_avoid_hway").is(":checked"),e=a("input#"+m+"_avoid_tolls").is(":checked"),l=a("input#"+m+"_radio_miles").is(":checked"),d={origin:k,destination:f,travelMode:d,provideRouteAlternatives:!0};b&&(d.avoidHighways=!0);e&&(d.avoidTolls=!0);d.unitSystem=l?google.maps.DirectionsUnitSystem.IMPERIAL:google.maps.DirectionsUnitSystem.METRIC;
        W.route(d,function(b,d){d==google.maps.DirectionsStatus.OK?(c.html(""),c.show(),G.setMap(r),G.setDirections(b),a(g+" button#d_sub").removeAttr("disabled").html("Get directions"),a(g+" button#print_sub").fadeIn(),A.close()):(c.html("<span style='font-size: 12px; font-weight: bold; color: red'>Could not route directions from<br />'"+k+"' to<br />'"+f+"'<br />Got result from Google: ["+d+"]</span>"),a(g+" button#print_sub").hide(),a(g+" button#d_sub").removeAttr("disabled").html("Get directions"))})}});
        a(document).on("click",g+" button#print_sub",function(){var c=a(g+" input#a_address").val(),f=a(g+" input#b_address").val(),b="d";a(g+" a#dir_w_btn").hasClass("selected")&&(b="w");c="http://maps.google.com/?saddr="+c+"&daddr="+f+"&dirflg="+b+"&pw=2";c=a("input#"+m+"_radio_miles").is(":checked")?c+"&doflg=ptm":c+"&doflg=ptk";"d"===b&&(b=a("input#"+m+"_avoid_hway").is(":checked"),f=a("input#"+m+"_avoid_tolls").is(":checked"),b&&(c+="&dirflg=h"),f&&(c+="&dirflg=t"));window.open(c);return!1});a(document).on("change focus",
            g+" input#a_address",function(){a(g+" input#a_address").removeClass("d_error");return!1});a(document).on("change focus",g+" input#b_address",function(){a(g+" input#b_address").removeClass("d_error");return!1});a(document).on("click",g+" .kd-button",function(){var c=this.id;"dir_d_btn"==c?a(g+" a#dir_d_btn").hasClass("selected")||(a(g+" a#dir_d_btn").addClass("selected"),a(g+" a#dir_w_btn").removeClass("selected")):"dir_w_btn"!=c||a(g+" a#dir_w_btn").hasClass("selected")||(a(g+" a#dir_w_btn").addClass("selected"),
            a(g+" a#dir_d_btn").removeClass("selected"));return!1})}function t(a,c){var k=Math.floor(111111*Math.random()),k=k+"-"+m,f="<div id='bubble-"+k+"' style='height: 130px !important; width: 300px !important;' class='bubble-content'>";if(c.geoMashup)var d=c.postTitle.substring(0,30),f=f+""+("<p class='geo-mashup-post-title'><a title='Original post: "+c.postTitle+"' href='"+c.postLink+"'>"+d+"..</a></p>"),f=f+("<p class='geo-mashup-post-excerpt'>"+c.postExcerpt+"</p>");else f+="<h4>"+b.translations.address+
        ":</h4>",f+="<p class='custom-bubble-text'>"+a+"</p>",""!=c.customBubbleText&&(f+="<p class='custom-bubble-text'>"+c.customBubbleText+"</p>");f+="<div class='custom-bubble-links-section'>";f+="<hr />";f+="<p class='custom-bubble-text'>"+b.translations.directions+": <a id='toHere-"+k+"' class='dirToHereTrigger' href='javascript:void(0);'>"+b.translations.toHere+"</a> - <a id='fromHere-"+k+"' class='dirFromHereTrigger' href='javascript:void(0);'>"+b.translations.fromHere+"</a> | <a id='trigger-"+k+
        "' class='streetViewTrigger' href='javascript:void(0);'>"+b.translations.streetView+"</a></p>";f+="</div></div>";return{bubbleHolderId:k,bubbleContent:f}}function T(g,c){var k=1;a.each(g,function(){null==this.excerpt&&(this.excerpt="");var a=this.addy.split(b.sep);a[0]=this.location;w(k,a,this.title,this.permalink,this.excerpt,c);k++});y.info("Have "+(k-1)+" destinations for marker Geo mashup..")}function s(a,c,b,f,d,e){null!=c[2]?-1!=c[2].indexOf("No description provided")&&(c[2]=""):c[2]="";K.push({address:c[0],
        animation:google.maps.Animation.DROP,zIndex:a,markerIcon:c[1],customBubbleText:c[2],postTitle:b,postLink:f,postExcerpt:d,geoMashup:e})}function w(a,c,b,f,d,e){var l=[];-1!=c[0].indexOf(",")?l=c[0].split(","):-1!=c[0].indexOf(";")&&(l=c[0].split(";"));if(0==l.length)return!1;l[0]=u.trim(l[0]);l[1]=u.trim(l[1]);if(""==l[0]||""==l[1])return!1;c[0]=new google.maps.LatLng(parseFloat(l[0]),parseFloat(l[1]));s(a,c,b,f,d,e)}function E(){clearTimeout(L);if(0<K.length){var g=K.shift();g.address instanceof google.maps.LatLng?
        C(g):X.geocode({address:g.address},function(a,c){P(a,c,g)})}else{x();if(0<M.length){var c="";a.each(M,function(a,g){c+="&nbsp;&nbsp;&nbsp;<b>"+(1+a)+". "+g+"</b><br />"});I.alertError(b.errors.badAddresses.replace("[REPLACE]",c))}M=[]}}function x(){var g=!1,c=null!=v?!0:!1;1<B.length?(a.each(B,function(a,g){z.contains(g.position)||z.extend(g.position)}),g=!0):1==B.length&&(c?(z.extend(B[0].position),g=!0):(r.setCenter(B[0].position),Q=r.getZoom(),N=r.getCenter()));g&&(c&&null!=v.getPosition()&&z.extend(v.getPosition()),
        F=z,c||null==z||r.fitBounds(z))}function C(a){var c=a.address;a.address="Lat/Long: "+c.lat().toFixed(6)+", "+c.lng().toFixed(6);Y(c,a);E()}function P(a,c,b){c==google.maps.GeocoderStatus.OK?(Y(a[0].geometry.location,b),L=setTimeout(function(){E()},330)):c==google.maps.GeocoderStatus.OVER_QUERY_LIMIT?(x(),K.push(b),L=setTimeout(function(){E()},3E3)):c==google.maps.GeocoderStatus.ZERO_RESULTS&&(M.push(b.address),L=setTimeout(function(){E()},400))}function Y(g,c){var d=new google.maps.Marker({position:g,
        title:c.address.replace("<br />"," :: "),content:c.address,zIndex:c.zIndex+1E3,map:r});if(d){if(c.markerIcon){var f=c.markerIcon;if("undefined"==typeof f||"undefined"===f)f="1-default.png";d.setIcon(b.customMarkersUri+f);var e=null,e=["4-default.png","5-default.png","6-default.png","7-default.png"];-1!=a.inArray(f,["1-default.png","2-default.png"])?(f=b.customMarkersUri+"msmarker.shadow.png",e=O(f,59,32,0,0,16,33)):-1!=a.inArray(f,e)?(f=b.customMarkersUri+"msmarker.shadow.png",e=O(f,59,32,0,0,21,
        34)):-1!=f.indexOf("3-default")?(f=b.customMarkersUri+"beachflag_shadow.png",e=O(f,37,32,0,0,10,33)):e=O(b.customMarkersUri+"shadow.png",68,37,0,0,32,38);d.setShadow(e)}h(d,c);R||(q(),R=!0);B.push(d)}}function O(a,c,b,d,e,l,h){return new google.maps.MarkerImage(a,new google.maps.Size(c,b),new google.maps.Point(d,e),new google.maps.Point(l,h))}function p(a,c,d){var f={clickable:!1,cursor:"pointer",draggable:!1,flat:!0,icon:{url:b.customMarkersUri+"gpsloc.png",size:new google.maps.Size(34,34),scaledSize:new google.maps.Size(17,
        17),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(8,8)},optimized:!0,position:new google.maps.LatLng(0,0),title:"Current location",zIndex:2};c&&(f=this.copyOptions_(f,c));c={clickable:!1,radius:0,strokeColor:"1bb6ff",strokeOpacity:0.4,fillColor:"61a0bf",fillOpacity:0.4,strokeWeight:1,zIndex:1};d&&(c=this.copyOptions_(c,d));this.marker_=new google.maps.Marker(f);this.circle_=new google.maps.Circle(c);this.map=this.position=this.accuracy=null;this.set("minimum_accuracy",null);this.set("position_options",
        {enableHighAccuracy:!0,maximumAge:1E3});this.circle_.bindTo("map",this.marker_);a&&this.setMap(a)}var B,K,M,J,S,L,R,r,H,U,F,N,Q,m,X,z,A,V,G,W,v=null;p.prototype=new google.maps.MVCObject;p.prototype.set=function(a,c){if(/^(?:position|accuracy)$/i.test(a))throw"'"+a+"' is a read-only property.";/map/i.test(a)?this.setMap(c):google.maps.MVCObject.prototype.set.apply(this,arguments)};p.prototype.marker_=null;p.prototype.circle_=null;p.prototype.getMap=function(){return this.map};p.prototype.getPositionOptions=
        function(){return this.get("position_options")};p.prototype.setPositionOptions=function(a){this.set("position_options",a)};p.prototype.getPosition=function(){return this.position};p.prototype.getBounds=function(){return this.position?this.circle_.getBounds():null};p.prototype.getAccuracy=function(){return this.accuracy};p.prototype.getMinimumAccuracy=function(){return this.get("minimum_accuracy")};p.prototype.setMinimumAccuracy=function(a){this.set("minimum_accuracy",a)};p.prototype.watchId_=-1;p.prototype.setMap=
        function(a){this.map=a;this.notify("map");a?this.watchPosition_():(this.marker_.unbind("position"),this.circle_.unbind("center"),this.circle_.unbind("radius"),this.position=this.accuracy=null,navigator.geolocation.clearWatch(this.watchId_),this.watchId_=-1,this.marker_.setMap(a))};p.prototype.setMarkerOptions=function(a){this.marker_.setOptions(this.copyOptions_({},a))};p.prototype.setCircleOptions=function(a){this.circle_.setOptions(this.copyOptions_({},a))};p.prototype.updatePosition_=function(a){var c=
        new google.maps.LatLng(a.coords.latitude,a.coords.longitude),b=null==this.marker_.getMap();if(b){if(null!=this.getMinimumAccuracy()&&a.coords.accuracy>this.getMinimumAccuracy())return;this.marker_.setMap(this.map);this.marker_.bindTo("position",this);this.circle_.bindTo("center",this,"position");this.circle_.bindTo("radius",this,"accuracy")}this.accuracy!=a.coords.accuracy&&google.maps.MVCObject.prototype.set.call(this,"accuracy",a.coords.accuracy);!b&&null!=this.position&&this.position.equals(c)||
    google.maps.MVCObject.prototype.set.call(this,"position",c)};p.prototype.watchPosition_=function(){var a=this;navigator.geolocation&&(this.watchId_=navigator.geolocation.watchPosition(function(c){a.updatePosition_(c)},function(c){google.maps.event.trigger(a,"geolocation_error",c)},this.getPositionOptions()))};p.prototype.copyOptions_=function(a,c){for(var b in c)!0!==p.DISALLOWED_OPTIONS[b]&&(a[b]=c[b]);return a};p.DISALLOWED_OPTIONS={map:!0,position:!0,radius:!0};return{init:function(a,c,b,d){r=
        a;m=r.getDiv().id;U=c;J=b;"true"===d&&(v=new p,google.maps.event.addListenerOnce(v,"position_changed",function(){r.setCenter(this.getPosition());r.fitBounds(this.getBounds())}),google.maps.event.addListener(v,"geolocation_error",function(a){alert("There was an error obtaining your position. Message: "+a.message)}),v.setMap(r));google.maps.event.addListener(r,"click",function(){l()});B=[];M=[];K=[];Q=5;F=N=H=L=null;S=R=!1;X=new google.maps.Geocoder;z=new google.maps.LatLngBounds;A=new google.maps.InfoWindow;
        V=new google.maps.StreetViewService;W=new google.maps.DirectionsService;rendererOptions={draggable:!0};G=new google.maps.DirectionsRenderer(rendererOptions);G.setPanel(document.getElementById("rendered-directions-placeholder-"+m))},buildAddressMarkers:function(a,c,d){S=!0;H=u.trim(a);H=u.searchReplace(H,"'","");if("true"===c)a=D(H),"true"===d?T(a,!0):"false"===d&&T(a,!1),E();else if(null==c||"false"===c){d=H.split("|");for(a=0;a<d.length;a++){var f=d[a];null!=f&&""!=f&&(f=u.trim(f),""!=f&&(c=a+1,
        f=f.split(b.sep),u.isNumeric(f[0])?w(c,f,"","","",!1):(u.isAlphaNumeric(f[0]),s(c,f,"","","",!1))))}E()}},isBuildAddressMarkersCalled:function(){return S}}},u=function(){return{isNumeric:function(a){return/^([0-9?(\-.,;\s{1,})]+)$/.test(a)},isAlphaNumeric:function(a){return/^([a-zA-Z0-9?(/\-.,\s{1,})]+)$/.test(a)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},searchReplace:function(a,b,h){return a.replace(RegExp(b,"g"),h)}}}(),y=function(){var a=function(a){navigator.userAgent.match(/msie|trident/i)||
console.log(a)};return{info:function(b){a("Info :: "+b)},raw:function(b){a(b)},warn:function(b){a("Warning :: "+b)},error:function(b){a("Error :: "+b)},fatal:function(b){a("Fatal :: "+b)}}}(),I=function(){return{alertError:function(b){function d(b,d){b.preventDefault();var e=a(d).closest("div.cgmp-popup-shortcode-dialog");e&&a(e).remove();0==a("div.cgmp-popup-shortcode-dialog").length&&a("#cgmp-popup-mask").remove()}var h=a('<div id="cgmp-popup-mask"/>'),e=Math.random().toString(36).substring(3),
    n=a('<div id="'+e+'" class="cgmp-popup-shortcode-dialog cgmp-popup-window">');n.html("<div class='dismiss-container'><a class='dialog-dismiss' href='javascript:void(0)'>\u00c3\u2014</a></div><p style='text-align: left; padding: 10px 10px 0 10px'>"+b+"</p><div align='center'><input type='button' class='close-dialog' value='Close' /></div>");a("body").append(h);a("body").append(n);b=a(document).height();h=a(window).width();a("#cgmp-popup-mask").css({width:h,height:b,opacity:0.1});1==a("#cgmp-popup-mask").length&&
a("#cgmp-popup-mask").show();b=a(window).height();h=a(window).width();a("div#"+e).css("top",b/2-a("div#"+e).height()/2);a("div#"+e).css("left",h/2-a("div#"+e).width()/2);a("div#"+e).fadeIn(500);a(".cgmp-popup-window .close-dialog").click(function(b){d(b,a(this))});a(".cgmp-popup-window .dialog-dismiss").click(function(b){d(b,a(this))});a("#cgmp-popup-mask").click(function(){a(this).remove();a(".cgmp-popup-window").remove()});a(window).resize(function(){var b=a(".window"),d=a(document).height(),e=
    a(window).width();a("#cgmp-popup-mask").css({width:e,height:d});d=a(window).height();e=a(window).width();b.css("top",d/2-b.height()/2);b.css("left",e/2-b.width()/2)})}}}();if(0!=a("object#global-data-placeholder").length){s=document.head||document.getElementsByTagName("head")[0]||document.documentElement;t=document.createElement("link");t.type="text/css";t.rel="stylesheet";t.href=a("object#global-data-placeholder").find("param#cssHref").val();t.media="screen";s.appendChild(t);b.sep=a("object#global-data-placeholder").find("param#sep").val();
    b.customMarkersUri=a("object#global-data-placeholder").find("param#customMarkersUri").val();b.errors=a("object#global-data-placeholder").find("param#errors").val();b.errors=D(b.errors);b.translations=a("object#global-data-placeholder").find("param#translations").val();b.translations=D(b.translations);s=parseFloat(a.fn.jquery.split(".")[0]);t=parseFloat(a.fn.jquery.split(".")[1]);if(1>s||1<=s&&2>s&&3>t)return alert(b.errors.oldJquery),!1;if("undefined"===typeof google||!google)return I.alertError(b.errors.msgNoGoogle),
        !1;if("undefined"!==typeof GMap2&&GMap2)return I.alertError(b.errors.msgApiV2),!1;b.language=a("object#global-data-placeholder").find("param#language").val();google.load("maps","3",{other_params:"sensor=false&libraries=panoramio&language="+b.language,callback:function(){q()}})}})("undefined"!==typeof q&&null!=q&&q?q:jQuery)}if("undefined"===typeof jQuery||null==jQuery){var P=!1,w=document.head||document.getElementsByTagName("head")[0]||document.documentElement,q=document.createElement("script");q.type=
    "text/javascript";q.src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js";q.onload=q.onreadystatechange=function(){if(!P&&(!this.readyState||/loaded|complete/.test(q.readyState))){P=!0;var Z=jQuery.noConflict();C(Z);q.onload=q.onreadystatechange=null;w&&q.parentNode&&w.removeChild(q);q=void 0}};w.appendChild(q)}else C()})();
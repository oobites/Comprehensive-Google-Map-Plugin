(function(){function A(l){(function(a){function l(){a("object.cgmp-json-string-placeholder").each(function(d,c){var b=a(c).attr("id"),b=a(c).find("param#json-string-"+b).val(),b=r.searchReplace(b,"'",""),b=b.replace("&quot;",""),b=B(b);if("undefined"===typeof b||!b)return!1;if(0<a("div#"+b.id).length){var k=new google.maps.Map(document.getElementById(b.id));t.initMap(k,b.bubbleautopan,parseInt(b.zoom),b.maptype);u.init(k);var g=new A;g.init(k,b.bubbleautopan,b.enablegeolocationmarker);t.setMapControls({mapTypeControl:"true"===
    b.maptypecontrol,panControl:"true"===b.pancontrol,zoomControl:"true"===b.zoomcontrol,scaleControl:"true"===b.scalecontrol,scrollwheel:"true"===b.scrollwheelcontrol,streetViewControl:"true"===b.streetviewcontrol,tilt:"true"===b.tiltfourtyfive?45:null,draggable:"true"===b.draggable,overviewMapControl:!0,overviewMapControlOptions:{opened:!1}});"true"===b.showpanoramio&&u.buildPanoramioLayer(b.panoramiouid);"true"===b.showbike&&u.buildBikeLayer();"true"===b.showtraffic&&u.buildTrafficLayer();null!=b.kml&&
    ""!=r.trim(b.kml)?u.buildKmlLayer(b.kml):(null!=b.markerlist&&""!=r.trim(b.markerlist)&&g.buildAddressMarkers(b.markerlist,b.addmarkermashup,b.addmarkermashupbubble),g.isBuildAddressMarkersCalled()||G.alertError(e.errors.msgMissingMarkers));0<a("div#"+b.id).children().length&&setTimeout(function(){if(k){var a=k.getZoom(),b=k.getCenter();google.maps.event.trigger(k,"resize");k.setZoom(a);k.setCenter(b)}},1500)}})}var B=function(a){},p=parseFloat(a.fn.jquery.split(".")[0]),q=parseFloat(a.fn.jquery.split(".")[1]);
    1<=p&&2>p&&4<=q?B=a.parseJSON:window.JSON&&window.JSON.parse?B=window.JSON.parse:w.fatal("Using parseJson stub..");var e={},t=function(){var a={};return{initMap:function(c,b,k,g){a=c;c=[];for(var e in google.maps.MapTypeId)c.push(google.maps.MapTypeId[e]);"OSM"==g?(c.push(g),a.mapTypes.set(g,new google.maps.ImageMapType({getTileUrl:function(a,b){return"http://tile.openstreetmap.org/"+b+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"OpenStreet",maxZoom:20}))):"ROADMAP"==g?g=google.maps.MapTypeId.ROADMAP:
        "SATELLITE"==g?g=google.maps.MapTypeId.SATELLITE:"HYBRID"==g?g=google.maps.MapTypeId.HYBRID:"TERRAIN"==g&&(g=google.maps.MapTypeId.TERRAIN);a.setOptions({zoom:k,mapTypeId:g,mapTypeControlOptions:{mapTypeIds:c}})},setMapControls:function(c){a.setOptions(c)}}}(),u=function(){var a={};return{init:function(c){a=c},buildKmlLayer:function(c){if(0>c.toLowerCase().indexOf("http"))return w.error("KML URL must start with HTTP(S). Aborting.."),!1;var b=new google.maps.KmlLayer(c);google.maps.event.addListener(b,
        "status_changed",function(){var a=b.getStatus();if(a!=google.maps.KmlLayerStatus.OK){var c="";switch(a){case google.maps.KmlLayerStatus.DOCUMENT_NOT_FOUND:c=e.errors.kmlNotFound;break;case google.maps.KmlLayerStatus.DOCUMENT_TOO_LARGE:c=e.errors.kmlTooLarge;break;case google.maps.KmlLayerStatus.FETCH_ERROR:c=e.errors.kmlFetchError;break;case google.maps.KmlLayerStatus.INVALID_DOCUMENT:c=e.errors.kmlDocInvalid;break;case google.maps.KmlLayerStatus.INVALID_REQUEST:c=e.errors.kmlRequestInvalid;break;
            case google.maps.KmlLayerStatus.LIMITS_EXCEEDED:c=e.errors.kmlLimits;break;case google.maps.KmlLayerStatus.TIMED_OUT:c=e.errors.kmlTimedOut;break;case google.maps.KmlLayerStatus.UNKNOWN:c=e.errors.kmlUnknown}if(""!=c){var d=e.errors.kml.replace("[MSG]",c),d=d.replace("[STATUS]",a);G.alertError(d);w.error("Google returned KML error: "+c+" ("+a+")");w.error("KML file: "+b.getUrl())}}});google.maps.event.addListener(b,"defaultviewport_changed",function(){});b.setMap(a)},buildTrafficLayer:function(){(new google.maps.TrafficLayer).setMap(a)},
        buildBikeLayer:function(){(new google.maps.BicyclingLayer).setMap(a)},buildPanoramioLayer:function(c){if("undefined"==typeof google.maps.panoramio||!google.maps.panoramio||null==google.maps.panoramio)return w.error("We cannot access Panoramio library. Aborting.."),!1;var b=new google.maps.panoramio.PanoramioLayer;b?(null!=c&&""!=c&&b.setUserId(c),b.setMap(a)):w.error("Could not instantiate Panoramio object. Aborting..")}}}(),A=function(){function d(){null!=C?m.getCenter()!=C.getCenter()&&(m.fitBounds(C),
        m.setCenter(C.getCenter())):null!=L&&(m.setCenter(L),m.setZoom(P))}function c(s){a(s+" input#a_address").val("");a(s+" input#b_address").val("");a(s+" input#a_address").removeClass("d_error");a(s+" input#b_address").removeClass("d_error")}function b(s,b){var h=q(s.content,b),f="div#direction-controls-placeholder-"+x,d=a("div#rendered-directions-placeholder-"+x);google.maps.event.addListener(s,"click",function(){c(f);a(f).fadeOut();D.setMap(null);d.html("");d.hide();a(f+" button#print_sub").hide();
        g(s,h,f);k(s,h,f,d);y.setContent(h.bubbleContent);y.setOptions({disableAutoPan:"true"===T?!1:!0});y.open(m,this)})}function k(b,n,h,f){var k="div#bubble-"+n.bubbleHolderId,e=b.content,e=e.replace("Lat/Long: ",""),g=null==H?"":H.getPosition();a(k+" a.dirToHereTrigger").live("click",function(){this.id==="toHere-"+n.bubbleHolderId&&(a(h).fadeIn(),a(h+" input#a_address").val(g),a(h+" input#b_address").val(e),a(h+" input#radio_miles").attr("checked","checked"))});a(k+" a.dirFromHereTrigger").live("click",
        function(){this.id==="fromHere-"+n.bubbleHolderId&&(a(h).fadeIn(),a(h+" input#a_address").val(e),a(h+" input#b_address").val(g),a(h+" input#radio_miles").attr("checked","checked"))});a(h+" div.d_close-wrapper").live("click",function(b){c(h);a(this).parent().fadeOut();D.setMap(null);f.html("");f.hide();a(h+" button#print_sub").hide();d();return!1})}function g(b,n,h){U.getPanoramaByLocation(b.position,50,function(f,d){d===google.maps.StreetViewStatus.OK?a("a#trigger-"+n.bubbleHolderId).live("click",
        function(){var f={navigationControl:!0,enableCloseButton:!0,addressControl:!1,linksControl:!0,scrollwheel:!1,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM},position:b.position,pov:{heading:165,pitch:0,zoom:1}},d=new google.maps.StreetViewPanorama(document.getElementById("bubble-"+n.bubbleHolderId),f);d.setVisible(!0);google.maps.event.addListener(y,"closeclick",function(){c(h);a(h).fadeOut();null!=d&&(d.unbind("position"),d.setVisible(!1));d=null});google.maps.event.addListener(d,
            "closeclick",function(){null!=d&&(d.unbind("position"),d.setVisible(!1),a("div#bubble-"+n.bubbleHolderId).css("background","none"));d=null})}):(a("a#trigger-"+n.bubbleHolderId).live("click",function(a){a.preventDefault()}),a("a#trigger-"+n.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important"),google.maps.event.addListener(y,"domready",function(){a("a#trigger-"+n.bubbleHolderId).removeAttr("href");a("a#trigger-"+n.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important")}))})}
        function l(){var b="div#direction-controls-placeholder-"+x,n=a("div#rendered-directions-placeholder-"+x);a(b+" a#reverse-btn").live("click",function(h){h=a(b+" input#a_address").val();var f=a(b+" input#b_address").val();a(b+" input#a_address").val(f);a(b+" input#b_address").val(h);return!1});a(b+" a#d_options_show").live("click",function(){a(b+" a#d_options_hide").show();a(b+" a#d_options_show").hide();a(b+" div#d_options").show();return!1});a(b+" a#d_options_hide").live("click",function(){a(b+" a#d_options_hide").hide();
            a(b+" a#d_options_show").show();a(b+" div#d_options").hide();a(b+" input#avoid_hway").removeAttr("checked");a(b+" input#avoid_tolls").removeAttr("checked");a(b+" input#radio_km").removeAttr("checked");a(b+" input#radio_miles").attr("checked","checked");return!1});a(b+" button#d_sub").live("click",function(){var h=a(b+" input#a_address").val(),f=a(b+" input#b_address").val(),d=!1;if(null==h||""==h)a(b+" input#a_address").addClass("d_error"),d=!0;if(null==f||""==f)a(b+" input#b_address").addClass("d_error"),
            d=!0;if(!d){a(b+" button#d_sub").attr("disabled","disabled").html("Please wait..");var c=google.maps.DirectionsTravelMode.DRIVING;a(b+" a#dir_w_btn").hasClass("selected")&&(c=google.maps.DirectionsTravelMode.WALKING);var d=a(b+" input#avoid_hway").is(":checked"),e=a(b+" input#avoid_tolls").is(":checked"),k=a(b+" input#radio_miles").is(":checked"),c={origin:h,destination:f,travelMode:c,provideRouteAlternatives:!0};d&&(c.avoidHighways=!0);e&&(c.avoidTolls=!0);c.unitSystem=k?google.maps.DirectionsUnitSystem.IMPERIAL:
            google.maps.DirectionsUnitSystem.METRIC;V.route(c,function(d,c){c==google.maps.DirectionsStatus.OK?(n.html(""),n.show(),D.setMap(m),D.setDirections(d),a(b+" button#d_sub").removeAttr("disabled").html("Get directions"),a(b+" button#print_sub").fadeIn(),y.close()):(n.html("<span style='font-size: 12px; font-weight: bold; color: red'>Could not route directions from<br />'"+h+"' to<br />'"+f+"'<br />Got result from Google: ["+c+"]</span>"),a(b+" button#print_sub").hide(),a(b+" button#d_sub").removeAttr("disabled").html("Get directions"))})}});
            a(b+" button#print_sub").live("click",function(){var h=a(b+" input#a_address").val(),f=a(b+" input#b_address").val(),d="d";a(b+" a#dir_w_btn").hasClass("selected")&&(d="w");h="http://maps.google.com/?saddr="+h+"&daddr="+f+"&dirflg="+d+"&pw=2";a(b+" input#radio_miles").is(":checked")&&(h+="&doflg=ptm");window.open(h);return!1});a(b+" input#a_address").live("change focus",function(){a(b+" input#a_address").removeClass("d_error");return!1});a(b+" input#b_address").live("change focus",function(){a(b+
                " input#b_address").removeClass("d_error");return!1});a(b+" .kd-button").live("click",function(){var d=this.id;"dir_d_btn"==d?a(b+" a#dir_d_btn").hasClass("selected")||(a(b+" a#dir_d_btn").addClass("selected"),a(b+" a#dir_w_btn").removeClass("selected")):"dir_w_btn"!=d||a(b+" a#dir_w_btn").hasClass("selected")||(a(b+" a#dir_w_btn").addClass("selected"),a(b+" a#dir_d_btn").removeClass("selected"));return!1})}function q(a,b){var d=Math.floor(111111*Math.random()),d=d+"-"+x,f="<div id='bubble-"+d+"' style='height: 130px !important; width: 300px !important;' class='bubble-content'>";
            if(b.geoMashup)var c=b.postTitle.substring(0,30),f=f+""+("<p class='geo-mashup-post-title'><a title='Original post: "+b.postTitle+"' href='"+b.postLink+"'>"+c+"..</a></p>"),f=f+("<p class='geo-mashup-post-excerpt'>"+b.postExcerpt+"</p>");else f+="<h4>"+e.translations.address+":</h4>",f+="<p class='custom-bubble-text'>"+a+"</p>",""!=b.customBubbleText&&(f+="<p class='custom-bubble-text'>"+b.customBubbleText+"</p>");f+="<div class='custom-bubble-links-section'>";f+="<hr />";f+="<p class='custom-bubble-text'>"+
                e.translations.directions+": <a id='toHere-"+d+"' class='dirToHereTrigger' href='javascript:void(0);'>"+e.translations.toHere+"</a> - <a id='fromHere-"+d+"' class='dirFromHereTrigger' href='javascript:void(0);'>"+e.translations.fromHere+"</a> | <a id='trigger-"+d+"' class='streetViewTrigger' href='javascript:void(0);'>"+e.translations.streetView+"</a></p>";f+="</div></div>";return{bubbleHolderId:d,bubbleContent:f}}function S(b,d){var c=1;a.each(b,function(){null==this.excerpt&&(this.excerpt="");var b=
            this.addy.split(e.sep);b[0]=this.location;t(c,b,this.title,this.permalink,this.excerpt,d);c++});w.info("Have "+(c-1)+" destinations for marker Geo mashup..")}function p(b,a,d,f,c,e){null!=a[2]?-1!=a[2].indexOf("No description provided")&&(a[2]=""):a[2]="";I.push({address:a[0],animation:google.maps.Animation.DROP,zIndex:b,markerIcon:a[1],customBubbleText:a[2],postTitle:d,postLink:f,postExcerpt:c,geoMashup:e})}function t(b,a,d,c,e,k){var g=[];-1!=a[0].indexOf(",")?g=a[0].split(","):-1!=a[0].indexOf(";")&&
            (g=a[0].split(";"));if(0==g.length)return!1;g[0]=r.trim(g[0]);g[1]=r.trim(g[1]);if(""==g[0]||""==g[1])return!1;a[0]=new google.maps.LatLng(parseFloat(g[0]),parseFloat(g[1]));p(b,a,d,c,e,k)}function E(){clearTimeout(J);if(0<I.length){var b=I.shift();b.address instanceof google.maps.LatLng?A(b):W.geocode({address:b.address},function(a,d){O(a,d,b)})}else{u();if(0<K.length){var d="";a.each(K,function(a,b){d+="&nbsp;&nbsp;&nbsp;<b>"+(1+a)+". "+b+"</b><br />"});G.alertError(e.errors.badAddresses.replace("[REPLACE]",
            d))}K=[]}}function u(){var b=!1,d=null!=H?!0:!1;1<z.length?(a.each(z,function(b,a){v.contains(a.position)||v.extend(a.position)}),b=!0):1==z.length&&(d?(v.extend(z[0].position),b=!0):(m.setCenter(z[0].position),P=m.getZoom(),L=m.getCenter()));b&&(d&&v.extend(H.getPosition()),C=v,null!=v&&m.fitBounds(v))}function A(b){var a=b.address;b.address="Lat/Long: "+a.lat().toFixed(6)+", "+a.lng().toFixed(6);X(a,b);E()}function O(b,a,d){a==google.maps.GeocoderStatus.OK?(X(b[0].geometry.location,d),J=setTimeout(function(){E()},
            330)):a==google.maps.GeocoderStatus.OVER_QUERY_LIMIT?(u(),I.push(d),J=setTimeout(function(){E()},3E3)):a==google.maps.GeocoderStatus.ZERO_RESULTS&&(K.push(d.address),J=setTimeout(function(){E()},400))}function X(d,c){var k=new google.maps.Marker({position:d,title:c.address.replace("<br />"," :: "),content:c.address,zIndex:c.zIndex+1E3,map:m});if(k){if(c.markerIcon){var f=c.markerIcon;if("undefined"==typeof f||"undefined"===f)f="1-default.png";k.setIcon(e.customMarkersUri+f);var g=null,g=["4-default.png",
            "5-default.png","6-default.png","7-default.png"];-1!=a.inArray(f,["1-default.png","2-default.png"])?(f=e.customMarkersUri+"msmarker.shadow.png",g=M(f,59,32,0,0,16,33)):-1!=a.inArray(f,g)?(f=e.customMarkersUri+"msmarker.shadow.png",g=M(f,59,32,0,0,21,34)):-1!=f.indexOf("3-default")?(f=e.customMarkersUri+"beachflag_shadow.png",g=M(f,37,32,0,0,10,33)):g=M(e.customMarkersUri+"shadow.png",68,37,0,0,32,38);k.setShadow(g)}b(k,c);Q||(l(),Q=!0);z.push(k)}}function M(a,b,d,c,k,g,e){return new google.maps.MarkerImage(a,
            new google.maps.Size(b,d),new google.maps.Point(c,k),new google.maps.Point(g,e))}var z,I,K,R,J,Q,m,F,T,C,L,P,x,W,v,y,U,D,V,H=null;return{init:function(a,b,c){m=a;x=m.getDiv().id;T=b;"true"===c&&"true"===e.isMobileDevice&&(a=new N,a.init(m),H=a.locate());google.maps.event.addListener(m,"click",function(){d()});z=[];K=[];I=[];P=5;C=L=F=J=null;R=Q=!1;W=new google.maps.Geocoder;v=new google.maps.LatLngBounds;y=new google.maps.InfoWindow;U=new google.maps.StreetViewService;V=new google.maps.DirectionsService;
            rendererOptions={draggable:!0};D=new google.maps.DirectionsRenderer(rendererOptions);D.setPanel(document.getElementById("rendered-directions-placeholder-"+x))},buildAddressMarkers:function(a,b,d){R=!0;F=r.trim(a);F=r.searchReplace(F,"'","");if("true"===b)a=B(F),"true"===d?S(a,!0):"false"===d&&S(a,!1),E();else if(null==b||"false"===b){d=F.split("|");for(a=0;a<d.length;a++){var c=d[a];null!=c&&""!=c&&(c=r.trim(c),""!=c&&(b=a+1,c=c.split(e.sep),r.isNumeric(c[0])?t(b,c,"","","",!1):(r.isAlphaNumeric(c[0]),
            p(b,c,"","","",!1))))}E()}},isBuildAddressMarkersCalled:function(){return R}}},N=function(){function a(b,c,d){var l={clickable:!1,cursor:"pointer",draggable:!1,flat:!0,icon:{url:e.customMarkersUri+"gpsloc.png",size:new google.maps.Size(34,34),scaledSize:new google.maps.Size(17,17),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(8,8)},optimized:!1,position:new google.maps.LatLng(0,0),title:"Current location",zIndex:2};c&&(l=this.copyOptions_(l,c));c={clickable:!1,radius:0,strokeColor:"1bb6ff",
        strokeOpacity:0.4,fillColor:"61a0bf",fillOpacity:0.4,strokeWeight:1,zIndex:1};d&&(c=this.copyOptions_(c,d));this.marker_=new google.maps.Marker(l);this.circle_=new google.maps.Circle(c);this.map=this.position=this.accuracy=null;this.set("minimum_accuracy",null);this.set("position_options",{enableHighAccuracy:!0,maximumAge:1E3});this.circle_.bindTo("map",this.marker_);b&&this.setMap(b)}var c={};a.prototype=new google.maps.MVCObject;a.prototype.set=function(a,c){if(/^(?:position|accuracy)$/i.test(a))throw"'"+
        a+"' is a read-only property.";/map/i.test(a)?this.setMap(c):google.maps.MVCObject.prototype.set.apply(this,arguments)};a.prototype.marker_=null;a.prototype.circle_=null;a.prototype.getMap=function(){return this.map};a.prototype.getPositionOptions=function(){return this.get("position_options")};a.prototype.setPositionOptions=function(a){this.set("position_options",a)};a.prototype.getPosition=function(){return this.position};a.prototype.getBounds=function(){return this.position?this.circle_.getBounds():
        null};a.prototype.getAccuracy=function(){return this.accuracy};a.prototype.getMinimumAccuracy=function(){return this.get("minimum_accuracy")};a.prototype.setMinimumAccuracy=function(a){this.set("minimum_accuracy",a)};a.prototype.watchId_=-1;a.prototype.setMap=function(a){this.map=a;this.notify("map");a?this.watchPosition_():(this.marker_.unbind("position"),this.circle_.unbind("center"),this.circle_.unbind("radius"),this.position=this.accuracy=null,navigator.geolocation.clearWatch(this.watchId_),this.watchId_=
        -1,this.marker_.setMap(a))};a.prototype.setMarkerOptions=function(a){this.marker_.setOptions(this.copyOptions_({},a))};a.prototype.setCircleOptions=function(a){this.circle_.setOptions(this.copyOptions_({},a))};a.prototype.updatePosition_=function(a){var c=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),d=null==this.marker_.getMap();if(d){if(null!=this.getMinimumAccuracy()&&a.coords.accuracy>this.getMinimumAccuracy())return;this.marker_.setMap(this.map);this.marker_.bindTo("position",
        this);this.circle_.bindTo("center",this,"position");this.circle_.bindTo("radius",this,"accuracy")}this.accuracy!=a.coords.accuracy&&google.maps.MVCObject.prototype.set.call(this,"accuracy",a.coords.accuracy);!d&&null!=this.position&&this.position.equals(c)||google.maps.MVCObject.prototype.set.call(this,"position",c)};a.prototype.watchPosition_=function(){var a=this;navigator.geolocation&&(this.watchId_=navigator.geolocation.watchPosition(function(c){a.updatePosition_(c)},function(c){google.maps.event.trigger(a,
        "geolocation_error",c)},this.getPositionOptions()))};a.prototype.copyOptions_=function(b,c){for(var e in c)!0!==a.DISALLOWED_OPTIONS[e]&&(b[e]=c[e]);return b};a.DISALLOWED_OPTIONS={map:!0,position:!0,radius:!0};return{init:function(a){c=a},locate:function(){var b=new a;b.setCircleOptions({fillColor:"#808080"});google.maps.event.addListenerOnce(b,"position_changed",function(){c.setCenter(this.getPosition());c.setZoom(c.getZoom())});google.maps.event.addListener(b,"geolocation_error",function(a){alert(a.message)});
        b.setMap(c);return b}}},r=function(){return{isNumeric:function(a){return/^([0-9?(\-.,;\s{1,})]+)$/.test(a)},isAlphaNumeric:function(a){return/^([a-zA-Z0-9?(/\-.,\s{1,})]+)$/.test(a)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},searchReplace:function(a,c,b){return a.replace(RegExp(c,"g"),b)}}}(),w=function(){var d=function(c){a.browser.msie||(a.browser.mozilla&&1<=parseInt(a.browser.version)?console.log(c):a.browser.webkit&&534<=parseInt(a.browser.version)?console.log(c):a.browser.opera&&11<=
        parseInt(a.browser.version)&&console.log(c))};return{info:function(a){d("Info :: "+a)},raw:function(a){d(a)},warn:function(a){d("Warning :: "+a)},error:function(a){d("Error :: "+a)},fatal:function(a){d("Fatal :: "+a)}}}(),G=function(){return{alertError:function(d){function c(b,c){b.preventDefault();var d=a(c).closest("div.cgmp-popup-shortcode-dialog");d&&a(d).remove();0==a("div.cgmp-popup-shortcode-dialog").length&&a("#cgmp-popup-mask").remove()}var b=a('<div id="cgmp-popup-mask"/>'),e=Math.random().toString(36).substring(3),
        g=a('<div id="'+e+'" class="cgmp-popup-shortcode-dialog cgmp-popup-window">');g.html("<div class='dismiss-container'><a class='dialog-dismiss' href='javascript:void(0)'>\u00c3\u2014</a></div><p style='text-align: left; padding: 10px 10px 0 10px'>"+d+"</p><div align='center'><input type='button' class='close-dialog' value='Close' /></div>");a("body").append(b);a("body").append(g);d=a(document).height();b=a(window).width();a("#cgmp-popup-mask").css({width:b,height:d,opacity:0.1});1==a("#cgmp-popup-mask").length&&
    a("#cgmp-popup-mask").show();d=a(window).height();b=a(window).width();a("div#"+e).css("top",d/2-a("div#"+e).height()/2);a("div#"+e).css("left",b/2-a("div#"+e).width()/2);a("div#"+e).fadeIn(500);a(".cgmp-popup-window .close-dialog").click(function(b){c(b,a(this))});a(".cgmp-popup-window .dialog-dismiss").click(function(b){c(b,a(this))});a("#cgmp-popup-mask").click(function(){a(this).remove();a(".cgmp-popup-window").remove()});a(window).resize(function(){var b=a(".window"),c=a(document).height(),d=
        a(window).width();a("#cgmp-popup-mask").css({width:d,height:c});c=a(window).height();d=a(window).width();b.css("top",c/2-b.height()/2);b.css("left",d/2-b.width()/2)})}}}();if(0!=a("object#global-data-placeholder").length){p=document.head||document.getElementsByTagName("head")[0]||document.documentElement;q=document.createElement("link");q.type="text/css";q.rel="stylesheet";q.href=a("object#global-data-placeholder").find("param#cssHref").val();q.media="screen";p.appendChild(q);e.sep=a("object#global-data-placeholder").find("param#sep").val();
        e.customMarkersUri=a("object#global-data-placeholder").find("param#customMarkersUri").val();e.errors=a("object#global-data-placeholder").find("param#errors").val();e.errors=B(e.errors);e.translations=a("object#global-data-placeholder").find("param#translations").val();e.translations=B(e.translations);p=parseFloat(a.fn.jquery.split(".")[0]);q=parseFloat(a.fn.jquery.split(".")[1]);if(1>p||1<=p&&2>p&&3>q)return alert(e.errors.oldJquery),!1;if("undefined"===typeof google||!google)return G.alertError(e.errors.msgNoGoogle),
            !1;if("undefined"!==typeof GMap2&&GMap2)return G.alertError(e.errors.msgApiV2),!1;e.language=a("object#global-data-placeholder").find("param#language").val();google.load("maps","3",{other_params:"sensor=false&libraries=panoramio&language="+e.language,callback:function(){l()}})}})("undefined"!==typeof l&&null!=l&&l?l:jQuery)}if("undefined"===typeof jQuery||null==jQuery){var N=!1,t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=document.createElement("script");l.type=
    "text/javascript";l.src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js";l.onload=l.onreadystatechange=function(){if(!N&&(!this.readyState||/loaded|complete/.test(l.readyState))){N=!0;var O=jQuery.noConflict();A(O);l.onload=l.onreadystatechange=null;t&&l.parentNode&&t.removeChild(l);l=void 0}};t.appendChild(l)}else A()})();
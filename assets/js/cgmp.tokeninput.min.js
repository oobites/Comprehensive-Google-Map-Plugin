var jQueryCgmp=jQuery.noConflict();
(function(a){var h,k;h=a("object#global-data-placeholder param#sep").val();k=a("object#global-data-placeholder param#customMarkersUri").val();var n={holderId:null,theme:null,tokenDataId:"id",tokenDataValue:"value",tokenFormatter:function(c){c=c[this.tokenDataValue].split(h);var a="<p style='padding-left: 50px'><i>No description provided</i> ..</p>",e=c[2];null!=e&&""!==e&&(e=e.replace(RegExp("\\[|\\]","g"),""),e=e.replace(RegExp("\\|","g")," - "),a="<p style='padding-left: 50px'><i>"+e+"</i></p>");
    return"<li><img src='"+k+c[1]+"' border='0' style='float: left; margin-right: 8px;'><p><b>"+c[0]+"</b></p>"+a+"</li>"}},m={tokenList:"token-input-list",token:"token-input-token",inputToken:"token-input-input-token",highlightedToken:"token-input-highlighted-token",hidden:"marker-destinations",tokenDelete:"token-input-delete-token"},f={init:function(c){var d=a.extend({},n,c||{});d.theme?(d.classes={},a.each(m,function(a,c){d.classes[a]=c+"-"+d.theme})):d.classes=a.extend({},m);return this.each(function(){a(this).data("tokenInputObject",
    new a.TokenList(this,d))})},clear:function(){this.data("tokenInputObject").clear();return this},add:function(a){this.data("tokenInputObject").add(a);return this},get:function(){return this.data("tokenInputObject").getTokens()}};a.fn.tokenInput=function(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));f.init.apply(this,arguments);return this.data("tokenInputObject")};a.TokenList=function(c,d){function e(b){if(null!=b&&""!=b){var e={id:g.length+1,value:b},f=!1;c.children().each(function(){var b=
    a(this);(b=a.data(b.get(0),"tokeninput"))&&b.value===e.value&&(f=!0)});f||(c.css("border","1px solid #C9C9C9"),l.remove(),g.push(e),b=a(d.tokenFormatter(e)),b=a(b).addClass(d.classes.token).appendTo(c),a.data(b.get(0),"tokeninput",e),a("<span></span>").addClass(d.classes.tokenDelete).addClass("uiCloseButton").appendTo(b).click(function(){h(a(this).parent());0<c.children().size()||(l.appendTo(c),c.css("border",""));return!1}),k())}}function f(){c.children("li").each(function(){h(a(this))});l.appendTo(c)}
    function h(b){a.data(b.get(0),"tokeninput");var c=b.prevAll().length;b.remove();g=g.slice(0,c).concat(g.slice(c+1));k()}function k(){var b=a.map(g,function(a){return a[d.tokenDataValue]});jQueryCgmp("#"+d.holderId+"hidden").val(b.join("|"))}var g=[];c=a(c);var l=a("<li><p></p></li>").addClass(d.classes.inputToken);c.has("li."+d.classes.token)||l.appendTo(c);c.mouseover(function(b){(b=a(b.target).closest("li"))&&!b.hasClass(d.classes.inputToken)&&b.addClass(d.classes.highlightedToken)}).mouseout(function(b){(b=
        a(b.target).closest("li"))&&!b.hasClass(d.classes.inputToken)&&b.removeClass(d.classes.highlightedToken)});this.getTokens=function(){return g};this.add=function(a){e(a)};this.clear=function(){f()}}})(jQueryCgmp);